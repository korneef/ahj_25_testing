(()=>{"use strict";const t=document.getElementsByClassName("card-validator__input")[0];function e(){!function(t){const e=document.getElementsByClassName("card-validator__input")[0].value.replace(/\D/g,"");let a=0,s=!1;for(let t=e.length-1;t>=0;t-=1){let n=parseInt(e.charAt(t),10);s&&(n*=2),n>9&&(n-=9),a+=n,s=!s}return a%10==0}()?document.getElementsByClassName("card-validator__chek-status")[0].textContent="❌ Карта невалидна":document.getElementsByClassName("card-validator__chek-status")[0].textContent="✅ Карта валидна"}t&&t.addEventListener("keyup",(function(t){const e=this.value.replace(/\D/g,"");this.value=e;const a=Array.from(document.getElementsByClassName("card-validator__image"));13!==t.keyCode&&(document.getElementsByClassName("card-validator__chek-status")[0].textContent="");for(let t=0;t<a.length;t+=1)a[t].style.opacity=.3;const s=function(t){const e=t.replace(/\D/g,""),a=Number(e.slice(0,6));let s=null;return!/^2/.test(e)||a>=222100&&a<=272099?/^4/.test(e)?s="visa":/^3[47]/.test(e)?s="american-express":/^30[12345]|^3/.test(e)&&!/^352[89]|^35[3-8][0-9]/.test(e)?s="dinnersclub":/^352[89]|^35[3-8][0-9]/.test(e)?s="jcb":/^6011|^64[4-9]|^65/.test(e)||a>=622126&&a<=622925?s="discover":(/^5018|^5020|^5038|^5893|^6304|^6759|^676[1-3]|^5[1-5]/.test(e)||a>=222100&&a<=272099)&&(s="master-card"):s="mir",s}(e);s&&(document.getElementsByClassName(`card-container__${s}`)[0].style.opacity=1)}));const a=document.getElementsByClassName("card-validator__button")[0];a&&a.addEventListener("click",e);const s=document.getElementsByClassName("card-validator__input")[0];s&&s.addEventListener("keydown",(t=>{13===t.keyCode&&(t.preventDefault(),e())}))})();